{"ast":null,"code":"var _jsxFileName = \"/Users/YehonatanShapira/Documents/Coding/rice-cooker/src/pages/Cooking.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { createPageUrl } from \"@/utils\";\nimport { RiceType, CookingSession } from \"@/entities/all\";\nimport PressableButton from \"../components/PressableButton\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst riceOptions = [{\n  category: \"jasmine\",\n  variety: \"white\",\n  name: \"JASMINE\",\n  icon: \"‚ñ†‚ñ†‚ñ†\",\n  time: 18\n}, {\n  category: \"basmati\",\n  variety: \"white\",\n  name: \"BASMATI\",\n  icon: \"|||\",\n  time: 15\n}, {\n  category: \"short_grain\",\n  variety: \"white\",\n  name: \"SHORT\",\n  icon: \"‚óè‚óè‚óè\",\n  time: 20\n}, {\n  category: \"arborio\",\n  variety: \"white\",\n  name: \"ARBORIO\",\n  icon: \"‚ñ≤‚ñ≤‚ñ≤\",\n  time: 25\n}, {\n  category: \"jasmine\",\n  variety: \"brown\",\n  name: \"BROWN\",\n  icon: \"‚ñà‚ñà‚ñà\",\n  time: 45\n}, {\n  category: \"wild\",\n  variety: \"brown\",\n  name: \"WILD\",\n  icon: \"^^^\",\n  time: 60\n}];\nexport default function CookingPage() {\n  _s();\n  const [stage, setStage] = useState('select_rice');\n  const [selectedRice, setSelectedRice] = useState(null);\n  const [riceDetails, setRiceDetails] = useState(null);\n  const [cups, setCups] = useState(1.0);\n  const [totalTime, setTotalTime] = useState(0);\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const [isComplete, setIsComplete] = useState(false);\n  useEffect(() => {\n    if (stage !== 'timer') return;\n    let interval = null;\n    if (isRunning && timeRemaining > 0) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => {\n          if (prev <= 1) {\n            setIsRunning(false);\n            handleTimerComplete();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [isRunning, timeRemaining, stage]);\n  const handleSelectRice = async riceOption => {\n    setSelectedRice(riceOption);\n    const types = await RiceType.list();\n    const details = types.find(r => r.category === riceOption.category && r.variety === riceOption.variety);\n    setRiceDetails(details || null);\n    setStage('set_amount');\n  };\n  const handleStartCooking = async () => {\n    if (!selectedRice) return;\n    const timeInSeconds = selectedRice.time * 60;\n    setTotalTime(timeInSeconds);\n    setTimeRemaining(timeInSeconds);\n    setIsComplete(false);\n    await CookingSession.create({\n      rice_type: `${selectedRice.variety} ${selectedRice.category}`,\n      rice_amount: Math.round(cups * 185),\n      water_amount: Math.round(cups * ((riceDetails === null || riceDetails === void 0 ? void 0 : riceDetails.water_ratio) || 1.5) * 240),\n      cooking_time: selectedRice.time,\n      status: 'active'\n    });\n    setStage('timer');\n    setIsRunning(true);\n  };\n  const handleTimerComplete = async () => {\n    setIsComplete(true);\n    if (navigator.vibrate) navigator.vibrate([200, 100, 200]);\n    // Logic to update session and user progress\n  };\n  const adjustCups = amount => {\n    setCups(prev => Math.max(0.25, Math.min(4.0, Math.round((prev + amount) * 4) / 4)));\n  };\n  const getServingText = () => {\n    if (cups <= 0.75) return \"SERVES 1\";\n    if (cups <= 1.5) return \"SERVES 2-3\";\n    if (cups <= 3.0) return \"SERVES 4-6\";\n    return \"SERVES 6+\";\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  const waterCups = (cups * ((riceDetails === null || riceDetails === void 0 ? void 0 : riceDetails.water_ratio) || 1.5)).toFixed(1);\n  const waterMl = Math.round(cups * ((riceDetails === null || riceDetails === void 0 ? void 0 : riceDetails.water_ratio) || 1.5) * 240);\n  const progress = totalTime > 0 ? (totalTime - timeRemaining) / totalTime * 100 : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pixel-font text-pixel-dark page-content\",\n    children: [stage === 'select_rice' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: createPageUrl(\"Home\"),\n          children: /*#__PURE__*/_jsxDEV(PressableButton, {\n            className: \"px-2 py-1\",\n            children: \"\\u2190 HOME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold\",\n          children: \"SELECT RICE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs opacity-60\",\n          children: \"1/2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-xs mb-2 opacity-80\",\n        children: \"CHOOSE RICE TYPE:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-2 flex-1\",\n        style: {\n          gridTemplateRows: 'repeat(3, 1fr)'\n        },\n        children: riceOptions.map(option => /*#__PURE__*/_jsxDEV(PressableButton, {\n          onClick: () => handleSelectRice(option),\n          className: \"flex-col justify-center items-center p-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg mb-1\",\n            children: option.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs font-bold\",\n            children: option.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-70\",\n            children: [option.time, \"MIN\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this)]\n        }, option.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), stage === 'set_amount' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(PressableButton, {\n          onClick: () => setStage('select_rice'),\n          className: \"px-2 py-1\",\n          children: \"\\u2190 BACK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold\",\n          children: \"SET AMOUNT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs opacity-60\",\n          children: \"2/2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pixel-border bg-pixel-cream p-3 text-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold\",\n          children: selectedRice === null || selectedRice === void 0 ? void 0 : selectedRice.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs opacity-70 mt-1\",\n          children: [selectedRice === null || selectedRice === void 0 ? void 0 : selectedRice.time, \" MIN COOK\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs mb-2 opacity-80 text-center\",\n          children: \"RICE AMOUNT (CUPS):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(PressableButton, {\n            onClick: () => adjustCups(-0.25),\n            className: \"w-10 h-10\",\n            disabled: cups <= 0.25,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 112\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pixel-border bg-pixel-cream px-4 py-2 min-w-16 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-bold\",\n              children: cups.toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 91\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(PressableButton, {\n            onClick: () => adjustCups(0.25),\n            className: \"w-10 h-10\",\n            disabled: cups >= 4.0,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 110\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-70\",\n            children: getServingText()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pixel-border bg-pixel-tan p-3 text-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs mb-1\",\n          children: \"WATER NEEDED:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold\",\n          children: [waterCups, \" CUPS (\", waterMl, \"ML)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PressableButton, {\n        onClick: handleStartCooking,\n        className: \"w-full bg-pixel-brown text-pixel-cream py-3 mt-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs font-bold\",\n          children: \"\\u2666 START COOKING\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 121\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), stage === 'timer' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm font-bold\",\n          children: \"TIMER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: createPageUrl(\"Home\"),\n          children: /*#__PURE__*/_jsxDEV(PressableButton, {\n            className: \"px-2 py-1\",\n            children: \"QUIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-3 flex-shrink-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-2xl mb-1 ${isRunning ? 'bounce-animation' : ''}`,\n          children: isComplete ? \"‚úÖ\" : isRunning ? \"üî•\" : \"üç≤\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs font-bold\",\n          children: isComplete ? \"DONE!\" : isRunning ? \"COOKING\" : \"PAUSED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pixel-border bg-pixel-cream p-3 text-center mb-3 flex-shrink-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold mb-1\",\n          children: formatTime(timeRemaining)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs\",\n          children: [selectedRice.name, \" \\u2022 \", selectedRice.time, \" MIN\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pixel-border bg-pixel-tan mb-4 h-6 relative overflow-hidden flex-shrink-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-0 h-full bg-pixel-brown transition-all duration-1000\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center text-xs font-bold text-pixel-dark\",\n          children: [Math.round(progress), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto\",\n        children: !isComplete ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(PressableButton, {\n            onClick: () => setIsRunning(!isRunning),\n            className: \"py-3 bg-pixel-brown text-pixel-cream\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs font-bold\",\n              children: isRunning ? \"‚è∏ PAUSE\" : \"‚ñ∂ RESUME\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 124\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: createPageUrl(\"Home\"),\n            className: \"w-full\",\n            children: /*#__PURE__*/_jsxDEV(PressableButton, {\n              className: \"py-3 w-full\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs\",\n                children: \"\\u23F9 STOP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 110\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 69\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pixel-border bg-pixel-brown text-pixel-cream p-3 text-center victory-animation\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl mb-1\",\n              children: \"\\uD83C\\uDF5A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs font-bold mb-1\",\n              children: \"RICE IS READY!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs\",\n              children: \"LET REST 5 MINUTES\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: createPageUrl(\"Home\"),\n            children: /*#__PURE__*/_jsxDEV(PressableButton, {\n              className: \"w-full py-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs\",\n                children: \"\\uD83C\\uDFE0 DONE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 91\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(CookingPage, \"oC3CXYXZsmiB+yoPBsAi5k93gkw=\");\n_c = CookingPage;\nvar _c;\n$RefreshReg$(_c, \"CookingPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","createPageUrl","RiceType","CookingSession","PressableButton","jsxDEV","_jsxDEV","Fragment","_Fragment","riceOptions","category","variety","name","icon","time","CookingPage","_s","stage","setStage","selectedRice","setSelectedRice","riceDetails","setRiceDetails","cups","setCups","totalTime","setTotalTime","timeRemaining","setTimeRemaining","isRunning","setIsRunning","isComplete","setIsComplete","interval","setInterval","prev","handleTimerComplete","clearInterval","handleSelectRice","riceOption","types","list","details","find","r","handleStartCooking","timeInSeconds","create","rice_type","rice_amount","Math","round","water_amount","water_ratio","cooking_time","status","navigator","vibrate","adjustCups","amount","max","min","getServingText","formatTime","seconds","mins","floor","secs","toString","padStart","waterCups","toFixed","waterMl","progress","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","style","gridTemplateRows","map","option","onClick","disabled","width","_c","$RefreshReg$"],"sources":["/Users/YehonatanShapira/Documents/Coding/rice-cooker/src/pages/Cooking.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { createPageUrl } from \"@/utils\";\nimport { RiceType, CookingSession, User, UserProgress } from \"@/entities/all\";\nimport PressableButton from \"../components/PressableButton\";\n\nconst riceOptions = [\n  { category: \"jasmine\", variety: \"white\", name: \"JASMINE\", icon: \"‚ñ†‚ñ†‚ñ†\", time: 18 },\n  { category: \"basmati\", variety: \"white\", name: \"BASMATI\", icon: \"|||\", time: 15 },\n  { category: \"short_grain\", variety: \"white\", name: \"SHORT\", icon: \"‚óè‚óè‚óè\", time: 20 },\n  { category: \"arborio\", variety: \"white\", name: \"ARBORIO\", icon: \"‚ñ≤‚ñ≤‚ñ≤\", time: 25 },\n  { category: \"jasmine\", variety: \"brown\", name: \"BROWN\", icon: \"‚ñà‚ñà‚ñà\", time: 45 },\n  { category: \"wild\", variety: \"brown\", name: \"WILD\", icon: \"^^^\", time: 60 }\n];\n\ninterface RiceOption {\n  category: string;\n  variety: string;\n  name: string;\n  icon: string;\n  time: number;\n}\n\nexport default function CookingPage() {\n  const [stage, setStage] = useState('select_rice');\n  const [selectedRice, setSelectedRice] = useState<RiceOption | null>(null);\n  const [riceDetails, setRiceDetails] = useState<RiceType | null>(null);\n  const [cups, setCups] = useState(1.0);\n  \n  const [totalTime, setTotalTime] = useState(0);\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const [isComplete, setIsComplete] = useState(false);\n\n  useEffect(() => {\n    if (stage !== 'timer') return;\n    let interval: NodeJS.Timeout | null = null;\n    if (isRunning && timeRemaining > 0) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => {\n          if (prev <= 1) {\n            setIsRunning(false);\n            handleTimerComplete();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [isRunning, timeRemaining, stage]);\n\n  const handleSelectRice = async (riceOption: RiceOption) => {\n    setSelectedRice(riceOption);\n    const types = await RiceType.list();\n    const details = types.find(r => r.category === riceOption.category && r.variety === riceOption.variety);\n    setRiceDetails(details || null);\n    setStage('set_amount');\n  };\n  \n  const handleStartCooking = async () => {\n    if (!selectedRice) return;\n    \n    const timeInSeconds = selectedRice.time * 60;\n    setTotalTime(timeInSeconds);\n    setTimeRemaining(timeInSeconds);\n    setIsComplete(false);\n    \n    await CookingSession.create({\n      rice_type: `${selectedRice.variety} ${selectedRice.category}`,\n      rice_amount: Math.round(cups * 185),\n      water_amount: Math.round(cups * (riceDetails?.water_ratio || 1.5) * 240),\n      cooking_time: selectedRice.time,\n      status: 'active'\n    });\n\n    setStage('timer');\n    setIsRunning(true);\n  };\n\n  const handleTimerComplete = async () => {\n    setIsComplete(true);\n    if (navigator.vibrate) navigator.vibrate([200, 100, 200]);\n    // Logic to update session and user progress\n  };\n\n  const adjustCups = (amount: number) => {\n    setCups(prev => Math.max(0.25, Math.min(4.0, Math.round((prev + amount) * 4) / 4)));\n  };\n\n  const getServingText = () => {\n    if (cups <= 0.75) return \"SERVES 1\";\n    if (cups <= 1.5) return \"SERVES 2-3\";\n    if (cups <= 3.0) return \"SERVES 4-6\";\n    return \"SERVES 6+\";\n  };\n  \n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const waterCups = (cups * (riceDetails?.water_ratio || 1.5)).toFixed(1);\n  const waterMl = Math.round(cups * (riceDetails?.water_ratio || 1.5) * 240);\n  const progress = totalTime > 0 ? ((totalTime - timeRemaining) / totalTime) * 100 : 0;\n\n  return (\n    <div className=\"pixel-font text-pixel-dark page-content\">\n      {/* Stage: Select Rice */}\n      {stage === 'select_rice' && (\n        <>\n          <div className=\"page-header\">\n            <Link to={createPageUrl(\"Home\")}><PressableButton className=\"px-2 py-1\">‚Üê HOME</PressableButton></Link>\n            <div className=\"text-sm font-bold\">SELECT RICE</div>\n            <div className=\"text-xs opacity-60\">1/2</div>\n          </div>\n          <div className=\"text-center text-xs mb-2 opacity-80\">CHOOSE RICE TYPE:</div>\n          <div className=\"grid-2 flex-1\" style={{ gridTemplateRows: 'repeat(3, 1fr)' }}>\n            {riceOptions.map(option => (\n              <PressableButton key={option.name} onClick={() => handleSelectRice(option)} className=\"flex-col justify-center items-center p-1\">\n                <div className=\"text-lg mb-1\">{option.icon}</div>\n                <div className=\"text-xs font-bold\">{option.name}</div>\n                <div className=\"text-xs opacity-70\">{option.time}MIN</div>\n              </PressableButton>\n            ))}\n          </div>\n        </>\n      )}\n\n      {/* Stage: Set Amount */}\n      {stage === 'set_amount' && (\n        <>\n          <div className=\"page-header\">\n            <PressableButton onClick={() => setStage('select_rice')} className=\"px-2 py-1\">‚Üê BACK</PressableButton>\n            <div className=\"text-sm font-bold\">SET AMOUNT</div>\n            <div className=\"text-xs opacity-60\">2/2</div>\n          </div>\n          <div className=\"pixel-border bg-pixel-cream p-3 text-center mb-3\">\n            <div className=\"text-sm font-bold\">{selectedRice?.name}</div>\n            <div className=\"text-xs opacity-70 mt-1\">{selectedRice?.time} MIN COOK</div>\n          </div>\n          <div className=\"mb-3\">\n            <div className=\"text-xs mb-2 opacity-80 text-center\">RICE AMOUNT (CUPS):</div>\n            <div className=\"flex items-center justify-center gap-2 mb-2\">\n              <PressableButton onClick={() => adjustCups(-0.25)} className=\"w-10 h-10\" disabled={cups <= 0.25}><div className=\"text-lg\">-</div></PressableButton>\n              <div className=\"pixel-border bg-pixel-cream px-4 py-2 min-w-16 text-center\"><div className=\"text-sm font-bold\">{cups.toFixed(2)}</div></div>\n              <PressableButton onClick={() => adjustCups(0.25)} className=\"w-10 h-10\" disabled={cups >= 4.0}><div className=\"text-lg\">+</div></PressableButton>\n            </div>\n            <div className=\"text-center\"><div className=\"text-xs opacity-70\">{getServingText()}</div></div>\n          </div>\n          <div className=\"pixel-border bg-pixel-tan p-3 text-center mb-4\">\n            <div className=\"text-xs mb-1\">WATER NEEDED:</div>\n            <div className=\"text-sm font-bold\">{waterCups} CUPS ({waterMl}ML)</div>\n          </div>\n          <PressableButton onClick={handleStartCooking} className=\"w-full bg-pixel-brown text-pixel-cream py-3 mt-auto\"><div className=\"text-xs font-bold\">‚ô¶ START COOKING</div></PressableButton>\n        </>\n      )}\n      \n      {/* Stage: Timer */}\n      {stage === 'timer' && (\n        <>\n          <div className=\"page-header\">\n            <div className=\"w-20\"></div> {/* Spacer */}\n            <div className=\"text-sm font-bold\">TIMER</div>\n            <Link to={createPageUrl(\"Home\")}><PressableButton className=\"px-2 py-1\">QUIT</PressableButton></Link>\n          </div>\n           <div className=\"text-center mb-3 flex-shrink-0\">\n            <div className={`text-2xl mb-1 ${isRunning ? 'bounce-animation' : ''}`}>{isComplete ? \"‚úÖ\" : isRunning ? \"üî•\" : \"üç≤\"}</div>\n            <div className=\"text-xs font-bold\">{isComplete ? \"DONE!\" : isRunning ? \"COOKING\" : \"PAUSED\"}</div>\n          </div>\n          <div className=\"pixel-border bg-pixel-cream p-3 text-center mb-3 flex-shrink-0\">\n            <div className=\"text-2xl font-bold mb-1\">{formatTime(timeRemaining)}</div>\n            <div className=\"text-xs\">{selectedRice.name} ‚Ä¢ {selectedRice.time} MIN</div>\n          </div>\n          <div className=\"pixel-border bg-pixel-tan mb-4 h-6 relative overflow-hidden flex-shrink-0\">\n            <div className=\"absolute left-0 top-0 h-full bg-pixel-brown transition-all duration-1000\" style={{ width: `${progress}%` }}></div>\n            <div className=\"absolute inset-0 flex items-center justify-center text-xs font-bold text-pixel-dark\">{Math.round(progress)}%</div>\n          </div>\n          <div className=\"mt-auto\">\n            {!isComplete ? (\n              <div className=\"grid-2 gap-3\">\n                <PressableButton onClick={() => setIsRunning(!isRunning)} className=\"py-3 bg-pixel-brown text-pixel-cream\"><div className=\"text-xs font-bold\">{isRunning ? \"‚è∏ PAUSE\" : \"‚ñ∂ RESUME\"}</div></PressableButton>\n                <Link to={createPageUrl(\"Home\")} className=\"w-full\"><PressableButton className=\"py-3 w-full\"><div className=\"text-xs\">‚èπ STOP</div></PressableButton></Link>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                 <div className=\"pixel-border bg-pixel-brown text-pixel-cream p-3 text-center victory-animation\">\n                  <div className=\"text-2xl mb-1\">üçö</div>\n                  <div className=\"text-xs font-bold mb-1\">RICE IS READY!</div>\n                  <div className=\"text-xs\">LET REST 5 MINUTES</div>\n                </div>\n                <Link to={createPageUrl(\"Home\")}><PressableButton className=\"w-full py-3\"><div className=\"text-xs\">üè† DONE</div></PressableButton></Link>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}